---
title: "Cyclistic Bike-Share Case Study"
author: "Vincent Balalian"
output: html_notebook
---
### Our Business Task: to maximize the number of annual memberships...

...(which Cyclistic's finance analysts have concluded are much more profitable than casual riders), by identifying actionable trends among rider data which the marketing team can use to design new, targeted campaigns.<br> 

The director of marketing believes maximizing the number of annual memberships is key to the company's future success. Using the recommendations of this analysis, the marketing team will design new strategies for converting casual riders into annual members. To do that, we must understand 1) how annual members and casual riders differ, 2) why casual riders would buy a membership, and 3) how digital media could affect our marketing tactics. <br>

Final approval of the recommended marketing program goes to the Cyclistic executive team (which is notoriously detail-oriented). In order to provide them with all the information they need to make their decision, the goal of this analysis is to provide all of the relevant insights in a way that's easy to digest without sacrificing attention-to-detail.

### Data Sources
The "Cyclistic" dataset was provided by Google as part of their Coursera Data Analytics course Capstone project, though the data itself has been made available by Motivate International Inc. under this [license](https://www.divvybikes.com/data-license-agreement). 
<br><br>
Despite the fictional nature of the titular company, the data itself reflects the operations of an actual, high-volume bike-share business, which gives us a substantial amount of comprehensive, real-world data to work with. (Any personal or private information has already been removed.)
<br><br>
The data itself can be found [here](https://divvy-tripdata.s3.amazonaws.com/index.html), where csv files are available for each month/period of data, dating back to 2013. For the purposes of this analysis, we'll be using the data from February 2022 to January 2023.
<br>


#### Environment Setup
```{r environment setup, warning=TRUE}
library(tidyverse)
library(skimr)
```
#### Data Import
```{r importing data, message=FALSE, warning=FALSE}
setwd("original data")
df <- list.files() %>% 
  read_csv(id="file_name")
```
#### Data Preview
```{r previewing data}
skim_without_charts(df)
```
A precursory glance tells us: 
<br>1) all 12 months of data were successfully imported into a single dataframe, and 
<br>2) aside from a few variables (start and end stations, and end coordinates), the data is complete.
```{r}
head(df)
```
#### Using this data... 
...we can identify trends among casual riders and annual members by looking at *what* they ride (rideable_type), *when* they ride (started_at, ended_at), and *where* they ride (starting and ending locations). We can also expand on the given "start" and "end" data to determine *how long* they ride, and *how far*.

### Data Processing
The dataset is very long (over 5 million rows), but not too wide, especially considering this analysis will largely be focused on only a few variables out of the original 14. Since the scope of this analysis is relatively simple, processing, analysis, and visualization of the data will be done in R Studio, which is uniquely suited to the current business task.

```{r}
df2 <- df %>% 
  mutate(ride_time=ended_at-started_at,
         lat_diff=round(abs(start_lat-end_lat), digits=6), 
         lng_diff=round(abs(start_lng-end_lng), digits=6),
         tot_diff=round(abs(lat_diff-lng_diff), digits=6),
         ) %>% 
    select(-file_name, -ride_id, -start_lat, -start_lng, -end_lat, -end_lng)
```
